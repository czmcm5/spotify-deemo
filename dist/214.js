/*! For license information please see 214.js.LICENSE.txt */
"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[214],{45:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(8587);function o(e,r){if(null==e)return{};var t,o,i=(0,n.A)(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}},214:(e,r,t)=>{t.r(r),t.d(r,{default:()=>I});var n=t(7528),o=t(9494),i=t(6739),s=t(2483),a=t(6475),c=t(4705),l=t(1083),d=t(5800);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){(0,c.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var u=t(2128);var h=t(4812);const b=["#E8115B","#477D95","#503750","#7D4B32","#E61E32","#006450","#8D67AB","#477D95","#BA5D07","#A56752","#FF0090","#8D67AB"],m=e=>b[e%12];var f,y,v=t(2885),j=t(5865),x=t(45),O=t(4848);const w=["bgColor","item"];function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?A(Object(t),!0).forEach((function(r){(0,c.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const k=e=>{let{bgColor:r,item:t}=e,n=(0,x.A)(e,w);return(0,O.jsxs)(D,P(P({bgColor:r},n),{},{children:[(0,O.jsx)(o.A,{variant:"h1",children:t.name}),(0,O.jsx)(F,{children:(0,O.jsx)("img",{src:t.icons[0].url,alt:"카테고리 아이콘"})})]}))},D=(0,i.Ay)("div")(f||(f=(0,n.A)(["\n  position: relative;\n  min-width: 0;\n  aspect-ratio: 3/2;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: pointer;\n\n  &:hover {\n    > div {\n      right: 0;\n      bottom: 0;\n    }\n  }\n"])),(e=>{let{bgColor:r}=e;return r})),F=(0,i.Ay)("div")(y||(y=(0,n.A)(["\n  position: absolute;\n  right: -5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 45%;\n  aspect-ratio: 1/1;\n  background-color: #313131;\n  box-shadow: 0 3px 6px 2px #00000040;\n  border-radius: 4px;\n  overflow: hidden;\n  transform: rotate(45deg);\n  transition: bottom 0.4s ease, right 0.4s ease;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])));var E,C=t(5647);const I=()=>{const e=(0,C.Zp)(),{data:r,error:t,isLoading:n,hasNextPage:i,fetchNextPage:c,isFetchingNextPage:p}=(e=>{let{limit:r}=e;const t=(0,u.A)();return(0,a.q)({queryKey:["serveral-categories"],queryFn:e=>{let{pageParam:n}=e;if(t)return(async(e,r)=>{try{return(await l.A.get("".concat(d.$,"/browse/categories"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:g({limit:40},r)})).data}catch(e){throw new Error("실패: category 가져오기")}})(t,{limit:r,offset:n})},enabled:!!t,initialPageParam:0,getNextPageParam:e=>{if(e&&e.categories.next){const r=new URL(e.categories.next).searchParams.get("offset");return r?parseInt(r):void 0}}})})({limit:40});return(0,v.A)({page:"categoryList",isLoading:p,isFinished:!i,onIntersect:c}),r?n?(0,O.jsx)(h.A,{}):t?(0,O.jsx)(s.A,{errMessage:t.message}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.A,{variant:"h1",padding:2,paddingTop:6,children:"모두 둘러보기"}),(0,O.jsxs)(L,{children:[null==r?void 0:r.pages.map((r=>null==r?void 0:r.categories.items.map(((r,t)=>(0,O.jsx)(k,{item:r,bgColor:m(t),onClick:()=>{return t=r.name,e(t);var t}},t))))),(0,O.jsx)(j.A,{isLoading:p,isFinished:!i,showText:!1}),!p&&(0,O.jsx)(j.n,{id:"observer-categoryList"})]})]}):null},L=(0,i.Ay)("div")(E||(E=(0,n.A)(["\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  width: 100%;\n  max-height: 100%;\n  gap: 1.5rem;\n  padding: 1rem;\n  padding-bottom: 8rem;\n  overflow: auto;\n\n  @media screen and (max-width: 1200px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"])),(e=>{let{theme:r}=e;return r.breakpoints.down("md")}))},2128:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(7286),o=t(2154);const i=()=>{const{data:e}=(0,n.I)({queryKey:["spo-access-token"],queryFn:o.K});return null==e?void 0:e.access_token}},2483:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(7163),o=t(4848);const i=e=>{let{errMessage:r}=e;return(0,o.jsxs)(n.A,{severity:"error",children:[r," "]})}},2885:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(6540);const o=e=>{let{page:r,isLoading:t,isFinished:o,onIntersect:i}=e;(0,n.useEffect)((()=>{if(t)return;if(o)return;const e=new IntersectionObserver((e=>{e[0].isIntersecting&&i()}),{threshold:0}),n=document.getElementById("observer-".concat(r));return n&&e.observe(n),()=>{n&&e.unobserve(n)}}),[t,o,i])}},4651:(e,r,t)=>{t.d(r,{Ay:()=>o});var n=t(1250);function o(e,r){let t;return t=r?(0,n.Ay)(e).withConfig({displayName:r.label,shouldForwardProp:r.shouldForwardProp}):(0,n.Ay)(e),t}},5865:(e,r,t)=>{t.d(r,{A:()=>l,n:()=>p});var n,o,i=t(7528),s=t(4651),a=t(4812),c=t(4848);const l=e=>{let{isLoading:r,isFinished:t,showText:n=!0}=e;return(0,c.jsx)(d,{children:r?(0,c.jsx)(a.k,{width:30,height:30}):t&&n?(0,c.jsx)("div",{children:"마지막 입니다."}):(0,c.jsx)(c.Fragment,{})})},d=(0,s.Ay)("div")(n||(n=(0,i.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 3rem;\n  font-size: 14px;\n  color: #858585;\n"]))),p=(0,s.Ay)("div")(o||(o=(0,i.A)(["\n  height: 1rem;\n  /* background-color: yellow; */\n"])))}}]);
//# sourceMappingURL=214.js.map?ver=cbbefe60358f9d293516