"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[292],{868:(e,n,r)=>{r.d(n,{S:()=>a,x:()=>s});var t=r(6540),i=r(4848);const o=(0,t.createContext)(void 0),a=e=>{let{children:n}=e;const[r,a]=(0,t.useState)("none"),[s,l]=(0,t.useState)(""),c={openAlert:r,message:s,showAlert:(0,t.useCallback)((e=>{l(e),a("show"),setTimeout((()=>{a("none")}),2e3)}),[])};return(0,i.jsx)(o.Provider,{value:c,children:n})},s=()=>{const e=(0,t.useContext)(o);if(!e)throw new Error("useAlertMessage must be used within an AlertProvider");return e}},1206:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"images/music.png?ver=708d7d1874e81d24a372040f4906d76d"},1271:(e,n,r)=>{r.d(n,{A:()=>c});var t,i=r(7528),o=r(6739),a=r(431),s=r(4690),l=r(4848);const c=()=>(0,l.jsx)(d,{variant:"contained",color:"secondary",onClick:s.G,children:"로그인하기"}),d=(0,o.Ay)(a.A)(t||(t=(0,i.A)(["\n  width: 7rem;\n  height: 2.6rem;\n  font-size: 16px;\n  font-weight: bold;\n"])))},1696:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"images/fake_Logo.png?ver=23c568bf691b001bb110dc7d5d52caaa"},2292:(e,n,r)=>{r.r(n),r.d(n,{default:()=>Qe});var t=r(7528),i=r(4651),o=r(5647),a=r(6540),s=r(4848);const l=(0,a.createContext)(void 0),c=e=>{let{children:n}=e;const[r,t]=(0,a.useState)(!1);return(0,s.jsx)(l.Provider,{value:{onSearch:r,updateOnSearch:e=>{t("on"===e)}},children:n})},d=()=>{const e=(0,a.useContext)(l);if(!e)throw new Error("useOnSearchContext must be used within OnSearchProvider");return e};var u=r(7286),h=r(4064);const p=e=>(0,u.I)({queryKey:["playlist-detail",e.playlist_id],queryFn:()=>(0,h.bt)(e),enabled:!!e.playlist_id});var m,x=r(2483),g=r(9494),v=r(6739),y=r(1271);const f=()=>(0,s.jsxs)(b,{children:[(0,s.jsx)(g.A,{variant:"h1",marginBottom:"0.5rem",children:"인증이 만료되었습니다."}),(0,s.jsx)(g.A,{variant:"h2",color:"#999999",marginBottom:"1rem",children:"재로그인 해주세요."}),(0,s.jsx)(y.A,{})]}),b=(0,v.Ay)("div")(m||(m=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n"])));var j,A,w,k,P=r(431),O=r(1696),S=r(1206);const _=e=>{var n,r;let{playlist:t,onSearch:i}=e;const{updateOnSearch:o}=d(),a=null!=t&&t.images?null==t?void 0:t.images[0].url:S.A,l=(null==t?void 0:t.name)||"",c=(null==t?void 0:t.description)||"",u=(null==t||null===(n=t.owner)||void 0===n?void 0:n.display_name)||"알수없음",h=(null==t||null===(r=t.tracks)||void 0===r?void 0:r.items.length)||0;return(0,s.jsxs)(C,{children:[(0,s.jsx)(E,{children:(0,s.jsx)("img",{src:a})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(N,{children:l}),(0,s.jsx)("div",{children:c}),(0,s.jsxs)(I,{children:[(0,s.jsx)("img",{src:O.A}),(0,s.jsx)("span",{children:u}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:[h,"곡"]}),i&&(0,s.jsx)(P.A,{onClick:()=>o("on"),children:"트랙 추가"}),0!==h&&!i&&(0,s.jsx)(P.A,{onClick:()=>o("off"),sx:{color:"tomato"},children:"닫기"})]})]})]})},C=(0,v.Ay)("div")(j||(j=(0,t.A)(["\n  flex-shrink: 0; // 공간이 부족할 때 box가 줄어들지않음\n  display: flex;\n  align-items: center;\n  justify-items: flex-start;\n  height: 18rem;\n  padding: 2rem 2rem 0 2rem;\n  background: linear-gradient(to bottom, #424242, #222222 90%);\n"]))),E=(0,v.Ay)("div")(A||(A=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  max-width: 13rem;\n  aspect-ratio: 1/1;\n  margin-right: 1.5rem;\n  background-color: #313131;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px 2px #0000009d;\n  overflow: hidden;\n  cursor: pointer;\n\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  "," {\n    max-width: 13rem;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")})),N=(0,v.Ay)("div")(w||(w=(0,t.A)(["\n  min-height: 5rem;\n  font-size: 55px;\n  font-weight: 700;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n\n  "," {\n    font-size: 40px;\n  }\n  "," {\n    font-size: 30px;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")}),(e=>{let{theme:n}=e;return n.breakpoints.down("sm")})),I=(0,v.Ay)("div")(k||(k=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  margin-top: 1rem;\n  img {\n    width: 20px;\n  }\n  span {\n    margin-left: 5px;\n  }\n"])));var F=r(4026),T=r(6700),q=r(8828),D=r(4963),z=r(1361),L=r(6120),K=r(4705),M=r(6475);function U(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var B=r(3413),R=r(4812),G=r(5865);function H(e){if(null===e)return"-";const n=new Date(e),r=(new Date).getTime()-n.getTime(),t=Math.floor(r/864e5);return t>0?"".concat(t,"일 전"):"오늘"}function X(e){const n=Math.floor(e/1e3),r=Math.floor(n/60),t=(n%60).toString().padStart(2,"0");return"".concat(r,":").concat(t)}function Q(e,n,r){return e*n+r+1}const V=e=>"description"in e;var W,$,J;const Y=e=>{var n,r;let{item:t,idx:i}=e;const o=V(t.track)?t.track.imgaes[0].url:null===(n=t.track.album.images)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.url;return(0,s.jsxs)(Z,{children:[(0,s.jsx)(ee,{children:i}),(0,s.jsx)(ee,{children:(0,s.jsx)(ne,{children:(0,s.jsx)("img",{src:o||S.A,alt:"track-thumbnail"})})}),(0,s.jsxs)(ee,{children:[(0,s.jsx)("div",{className:"title",children:t.track.name||"no title"}),(0,s.jsx)("div",{children:V(t.track)?"":t.track.artists[0].name})]}),(0,s.jsx)(ee,{children:V(t.track)?"-":null===(r=t.track.album)||void 0===r?void 0:r.name}),(0,s.jsx)(ee,{className:"added_at",children:H(t.added_at||null)}),(0,s.jsx)(ee,{children:X(t.track.duration_ms)})]})},Z=(0,v.Ay)(q.A)(W||(W=(0,t.A)(["\n  border-radius: 4px;\n  cursor: pointer;\n  &:hover {\n    background-color: #333333;\n  }\n"]))),ee=(0,v.Ay)(D.A)($||($=(0,t.A)(["\n  border: 0;\n  padding: 0.5rem;\n  && {\n    font-size: 16px;\n    color: #858585;\n  }\n  &.added_at {\n    "," {\n      display: none;\n    }\n  }\n  .title {\n    color: white;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")})),ne=(0,v.Ay)("div")(J||(J=(0,t.A)(["\n  width: 3rem;\n  aspect-ratio: 1/1;\n  border-radius: 4px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])));var re,te;const ie=e=>{let{id:n}=e;const{data:r,isLoading:t,error:i,hasNextPage:o,fetchNextPage:a,isFetchingNextPage:l}=(c={playlist_id:n,limit:10},(0,M.q)({queryKey:["playlist-items",c],queryFn:e=>{let{pageParam:n}=e;return(0,h.Dg)(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?U(Object(r),!0).forEach((function(n){(0,K.A)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({offset:n},c))},initialPageParam:0,getNextPageParam:e=>{if(e.next){const n=new URL(e.next).searchParams.get("offset");return n?parseInt(n):void 0}}}));var c;return(0,B.A)({page:"playlistItems",isLoading:l,isFinished:!o,onIntersect:a}),t?(0,s.jsx)(R.A,{}):i?(0,s.jsx)(x.A,{errMessage:i.message}):(0,s.jsxs)(oe,{children:[(0,s.jsxs)(F.A,{stickyHeader:!0,sx:{borderCollapse:"collapse"},children:[(0,s.jsx)(T.A,{children:(0,s.jsxs)(q.A,{children:[(0,s.jsx)(D.A,{children:"#"}),(0,s.jsx)(D.A,{colSpan:2,children:"제목"}),(0,s.jsx)(D.A,{children:"앨범"}),(0,s.jsx)(ae,{children:"추가한 날짜"}),(0,s.jsx)(D.A,{children:"시간"})]})}),(0,s.jsx)(z.A,{children:null==r?void 0:r.pages.map(((e,n)=>e.items.map(((e,r)=>(0,s.jsx)(Y,{idx:Q(10,n,r),item:e},r)))))})]}),(0,s.jsx)(G.A,{isLoading:l,isFinished:!o}),!l&&(0,s.jsx)(G.n,{id:"observer-playlistItems"})]})},oe=(0,v.Ay)(L.A)(re||(re=(0,t.A)(["\n  flex-grow: 1;\n  padding-bottom: 5rem;\n  overflow: auto;\n  overflow-x: hidden;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),ae=(0,v.Ay)(D.A)(te||(te=(0,t.A)(["\n  "," {\n    display: none;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")}));var se=r(6858);let le=function(e){return e.Album="album",e.Artist="artist",e.Playlist="playlists",e.Track="track",e.Show="show",e.Episode="episode",e.Audiobook="audiobook",e}({});var ce=r(7665),de=r(7097),ue=r(868);var he,pe,me,xe;const ge=(0,v.Ay)(q.A)(he||(he=(0,t.A)(["\n  cursor: pointer;\n  &:hover {\n    background-color: #333333;\n  }\n"]))),ve=(0,v.Ay)(D.A)(pe||(pe=(0,t.A)(["\n  border: 0;\n  padding: 0.5rem;\n  && {\n    font-size: 16px;\n    color: #858585;\n  }\n  .title {\n    color: white;\n  }\n"]))),ye=(0,v.Ay)("div")(me||(me=(0,t.A)(["\n  width: 3rem;\n  aspect-ratio: 1/1;\n  border-radius: 4px;\n  overflow: hidden;\n  background-color: #2a2a2a;\n\n  &.Album {\n    border-radius: 50px;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),fe=(0,v.Ay)(P.A)(xe||(xe=(0,t.A)(["\n  white-space: nowrap;\n  color: white;\n  border: 1px solid #858585;\n  cursor: pointer;\n\n  &:hover {\n    border-color: white;\n  }\n"]))),be={[le.Track]:{dataKey:"tracks",Component:e=>{let{idx:n,imageSrc:r,trackName:t,albumName:i,artistName:a,uri:l}=e;const{id:c}=(0,o.g)(),{mutate:u,isPending:p,error:m}=(()=>{const e=(0,ce.jE)(),{showAlert:n}=(0,ue.x)(),{updateOnSearch:r}=d();return(0,de.n)({mutationFn:e=>(0,h.XI)(e),onSuccess:()=>{e.invalidateQueries({queryKey:["playlist-detail"]}),n("트랙이 성공적으로 추가되었습니다."),r("off")}})})();return m&&"retry"===m.message?(0,s.jsx)(f,{}):m?(0,s.jsx)(x.A,{errMessage:m.message}):(0,s.jsxs)(ge,{children:[(0,s.jsx)(ve,{children:n}),(0,s.jsx)(ve,{children:(0,s.jsx)(ye,{children:(0,s.jsx)("img",{src:r,alt:"track-thumbnail"})})}),(0,s.jsxs)(ve,{children:[(0,s.jsx)("div",{className:"title",children:t}),(0,s.jsx)("div",{children:a})]}),(0,s.jsx)(ve,{children:i}),(0,s.jsx)(ve,{children:(0,s.jsx)(fe,{onClick:()=>{p||c&&u({playlist_id:c,uris:[l]})},children:"추가하기"})})]})},renderProps:e=>{var n;return{imageSrc:(null===(n=e.album.images)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.url)||S.A,trackName:e.name,albumName:e.album.name||"",artistName:e.artists[0].name||"알수없음",uri:e.uri}}},[le.Album]:{dataKey:"albums",Component:e=>{let{idx:n,imageSrc:r,albumName:t,artistName:i}=e;return(0,s.jsxs)(ge,{children:[(0,s.jsx)(ve,{children:n}),(0,s.jsx)(ve,{children:(0,s.jsx)(ye,{className:"Album",children:(0,s.jsx)("img",{src:r,alt:"album-thumbnail"})})}),(0,s.jsxs)(ve,{children:[(0,s.jsx)("div",{className:"title",children:t}),(0,s.jsx)("div",{children:i})]}),(0,s.jsx)(ve,{children:">"})]})},renderProps:e=>{var n;return{imageSrc:(null===(n=e.images)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.url)||S.A,albumName:e.name,artistName:e.artists[0].name||"알수없음"}}},[le.Artist]:{dataKey:"artists",Component:()=>null,renderProps:()=>({})},[le.Playlist]:{dataKey:"playlists",Component:()=>null,renderProps:()=>({})},[le.Show]:{dataKey:"shows",Component:()=>null,renderProps:()=>({})},[le.Episode]:{dataKey:"episodes",Component:()=>null,renderProps:()=>({})},[le.Audiobook]:{dataKey:"audiobooks",Component:()=>null,renderProps:()=>({})}};var je=r(1083),Ae=r(5800),we=r(3653);function ke(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Pe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(r),!0).forEach((function(n){(0,K.A)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Oe;const Se=e=>{let{keyword:n}=e;return(0,s.jsxs)(_e,{children:[(0,s.jsxs)(g.A,{variant:"h1",marginBottom:"0.5rem",children:['"',n,'"과(와) 일치하는 결과 없음']}),(0,s.jsx)(g.A,{variant:"h2",color:"#999999",marginBottom:"1rem",children:"입력한 단어의 철자가 맞는지 확인하거나 짧은 키워드 또는 다른 키워드를 사용하세요."})]})},_e=(0,v.Ay)("div")(Oe||(Oe=(0,t.A)(["\n  margin-top: 2rem;\n  text-align: center;\n"])));var Ce;function Ee(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}const Ne=e=>{var n;let{keyword:r,searchType:t}=e;const{data:i,error:o,isLoading:a,hasNextPage:l,fetchNextPage:c,isFetchingNextPage:d}=(e=>{const n=(0,we.A)();return(0,M.q)({queryKey:["search",e.q,e.type],queryFn:r=>{let{pageParam:t=0}=r;if(n)return(async(e,n)=>{try{const r=new URLSearchParams;return r.append("q",n.q),r.append("type",n.type.join(",")),n.market&&r.append("market",n.market.toString()),n.limit&&r.append("limit",n.limit.toString()),n.offset&&r.append("offset",n.offset.toString()),n.include_external&&r.append("include_external",n.include_external),(await je.A.get("".concat(Ae.$,"/search"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:r})).data}catch(e){throw new Error}})(n,Pe(Pe({},e),{},{offset:t}))},enabled:!!e.q,initialPageParam:0,getNextPageParam:e=>{var n,r,t,i,o,a,s;if(!e)return;const l=(null===(n=e.tracks)||void 0===n?void 0:n.next)||(null===(r=e.artists)||void 0===r?void 0:r.next)||(null===(t=e.albums)||void 0===t?void 0:t.next)||(null===(i=e.playlists)||void 0===i?void 0:i.next)||(null===(o=e.shows)||void 0===o?void 0:o.next)||(null===(a=e.episodes)||void 0===a?void 0:a.next)||(null===(s=e.audiobooks)||void 0===s?void 0:s.next);if(l){const e=new URL(l).searchParams.get("offset");return e?parseInt(e):void 0}}})})({q:r,type:[t]});if((0,B.A)({page:"search-result",isLoading:d,isFinished:!l,onIntersect:c}),""===r||null==i||!i.pages)return null;if(a)return(0,s.jsx)(Fe,{children:(0,s.jsx)(R.k,{width:40,height:40})});if(o)return(0,s.jsx)(x.A,{errMessage:o.message});const u=be[t],{dataKey:h,Component:p,renderProps:m}=u;return 0===(null===(n=i.pages[0])||void 0===n||null===(n=n[h])||void 0===n?void 0:n.total)?(0,s.jsx)(Se,{keyword:r}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F.A,{sx:{borderCollapse:"collapse"},children:(0,s.jsx)(z.A,{children:i.pages.map(((e,n)=>{var r;return null==e||null===(r=e[h])||void 0===r?void 0:r.items.map(((e,r)=>(0,s.jsx)(p,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(r),!0).forEach((function(n){(0,K.A)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({idx:Q(20,n,r)},m(e)),"".concat(h,"-").concat(n,"-").concat(r))))}))})}),(0,s.jsx)(G.A,{isLoading:d,isFinished:!l}),!d&&(0,s.jsx)(G.n,{id:"observer-search-result"})]})},Ie=a.memo(Ne),Fe=(0,v.Ay)("div")(Ce||(Ce=(0,t.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"])));var Te,qe,De,ze,Le;const Ke=()=>{const{keyword:e,searchType:n}=(()=>{const[e,n]=(0,a.useState)(""),[r,t]=(0,a.useState)(le.Track);return{keyword:{value:e,onchange:e=>n(e.target.value)},searchType:{value:r,onchange:e=>t(e.target.value)}}})(),r=function(e,n){const[r,t]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const r=setTimeout((()=>{t(e)}),n||500);return()=>{clearTimeout(r)}}),[e,n]),r}(e.value);return(0,s.jsxs)(Me,{children:[(0,s.jsxs)(Ue,{children:[(0,s.jsx)(g.A,{variant:"h1",children:"플레이리스트에 추가할 곡을 찾아보세요"}),(0,s.jsxs)(Re,{value:n.value,onChange:n.onchange,children:[(0,s.jsx)("option",{value:le.Track,children:"트랙"}),(0,s.jsx)("option",{value:le.Album,children:"앨범"})]}),(0,s.jsx)(Ge,{value:e.value,onChange:e.onchange,placeholder:"곡 또는 에피소드 검색하기"})]}),(0,s.jsx)(Be,{children:(0,s.jsx)(Ie,{keyword:r,searchType:n.value})})]})},Me=(0,v.Ay)(se.A)(Te||(Te=(0,t.A)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  margin-top: 1rem;\n"]))),Ue=(0,v.Ay)(se.A)(qe||(qe=(0,t.A)(["\n  flex-shrink: 0;\n  padding: 1rem;\n"]))),Be=(0,v.Ay)(se.A)(De||(De=(0,t.A)(["\n  flex-grow: 1;\n  padding: 0 1rem 5rem 1rem;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Re=(0,v.Ay)("select")(ze||(ze=(0,t.A)(["\n  box-sizing: border-box;\n  padding: 0.7rem;\n  height: 3rem;\n  font-size: 16px;\n  color: white;\n  background-color: #333333;\n  border: 1px solid #333333;\n  border-radius: 4px 0 0 4px;\n  outline: 0;\n  cursor: pointer;\n  &:hover {\n    border-color: #606060;\n  }\n  &:focus {\n    border-color: #b1b1b1;\n  }\n"]))),Ge=(0,v.Ay)("input")(Le||(Le=(0,t.A)(["\n  box-sizing: border-box;\n  width: 100%;\n  max-width: 23rem;\n  height: 3rem;\n  padding: 0.7rem;\n  margin: 1rem 0;\n  font-size: 16px;\n  color: white;\n  background-color: #333333;\n  border: 1px solid #333333;\n  border-radius: 0 4px 4px 0;\n  outline: 0;\n  &:hover {\n    border-color: #606060;\n  }\n  &:focus {\n    border-color: #b1b1b1;\n  }\n"])));var He;const Xe=()=>{var e,n;const{id:r=""}=(0,o.g)(),{data:t,error:i}=p({playlist_id:r}),{onSearch:l,updateOnSearch:c}=d();return(0,a.useEffect)((()=>{c("off")}),[r]),t?i&&"retry"===i.message?(0,s.jsx)(f,{}):i?(0,s.jsx)(x.A,{errMessage:i.message}):(0,s.jsxs)(Ve,{children:[(0,s.jsx)(_,{playlist:t,onSearch:!l&&0!==(null==t||null===(e=t.tracks)||void 0===e?void 0:e.total)}),0===(null==t||null===(n=t.tracks)||void 0===n?void 0:n.total)||l?(0,s.jsx)(Ke,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(ie,{id:r})})]}):null},Qe=()=>(0,s.jsx)(c,{children:(0,s.jsx)(Xe,{})}),Ve=(0,i.Ay)("div")(He||(He=(0,t.A)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"])))},2483:(e,n,r)=>{r.d(n,{A:()=>o});var t=r(7163),i=r(4848);const o=e=>{let{errMessage:n}=e;return(0,i.jsxs)(t.A,{severity:"error",children:[n," "]})}},3413:(e,n,r)=>{r.d(n,{A:()=>i});var t=r(6540);const i=e=>{let{page:n,isLoading:r,isFinished:i,onIntersect:o}=e;(0,t.useEffect)((()=>{if(r)return;if(i)return;const e=new IntersectionObserver((e=>{e[0].isIntersecting&&o()}),{threshold:0}),t=document.getElementById("observer-".concat(n));return t&&e.observe(t),()=>{t&&e.unobserve(t)}}),[r,i,o])}},3653:(e,n,r)=>{r.d(n,{A:()=>o});var t=r(7286),i=r(2154);const o=()=>{const{data:e}=(0,t.I)({queryKey:["spo-access-token"],queryFn:i.K});return null==e?void 0:e.access_token}},4064:(e,n,r)=>{r.d(n,{Dg:()=>s,Nt:()=>l,U4:()=>o,XI:()=>c,bt:()=>a});var t=r(3110),i=r(5443);const o=async e=>{let{limit:n,offset:r}=e;try{return(await i.A.get("/me/playlists",{params:{limit:n,offset:r}})).data}catch(e){throw new Error("실패: playlist 가져오기")}},a=async e=>{try{return(await i.A.get("/playlists/".concat(e.playlist_id),{params:e})).data}catch(e){var n;if((0,t.F0)(e)&&401===(null===(n=e.response)||void 0===n?void 0:n.status))throw new Error("retry");throw new Error("fail getPlaylist")}},s=async e=>{try{return(await i.A.get("/playlists/".concat(e.playlist_id,"/tracks"),{params:e})).data}catch(e){throw new Error("fail getPlaylistItems")}},l=async(e,n)=>{try{const{name:r,collaborative:t,description:o}=n;return(await i.A.post("/users/".concat(e,"/playlists"),{name:r,public:n.public,collaborative:t,description:o})).data}catch(e){throw new Error("fail createPlaylist")}},c=async e=>{try{return(await i.A.post("/playlists/".concat(e.playlist_id,"/tracks"),e)).data}catch(e){var n;if((0,t.F0)(e)&&401===(null===(n=e.response)||void 0===n?void 0:n.status))throw new Error("retry");throw new Error("fail add item to playlist")}}},4690:(e,n,r)=>{r.d(n,{G:()=>o,r:()=>a});var t=r(8097),i=r(5800);const o=async()=>{const e=crypto.getRandomValues(new Uint8Array(64)).reduce(((e,n)=>e+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[n%62]),""),n=(r=await(async e=>{const n=(new TextEncoder).encode(e);return window.crypto.subtle.digest("SHA-256",n)})(e),btoa(String.fromCharCode(...new Uint8Array(r))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"));var r;const o=t.xl,a=i.f,s=t.iW,l=new URL("https://accounts.spotify.com/authorize");if(window.localStorage.setItem("code_verifier",e),o&&a){const e={response_type:"code",client_id:o,scope:s,code_challenge_method:"S256",code_challenge:n,redirect_uri:a};l.search=new URLSearchParams(Object.entries(e)).toString(),window.location.href=l.toString()}},a=()=>{localStorage.removeItem("code_verifier"),localStorage.removeItem("access_token"),window.location.href="/"}},5443:(e,n,r)=>{r.d(n,{A:()=>a});var t=r(1083),i=r(5800);const o=t.A.create({baseURL:i.$,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}});o.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),e)));const a=o},5865:(e,n,r)=>{r.d(n,{A:()=>c,n:()=>u});var t,i,o=r(7528),a=r(4651),s=r(4812),l=r(4848);const c=e=>{let{isLoading:n,isFinished:r,showText:t=!0}=e;return(0,l.jsx)(d,{children:n?(0,l.jsx)(s.k,{width:30,height:30}):r&&t?(0,l.jsx)("div",{children:"마지막 입니다."}):(0,l.jsx)(l.Fragment,{})})},d=(0,a.Ay)("div")(t||(t=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 3rem;\n  font-size: 14px;\n  color: #858585;\n"]))),u=(0,a.Ay)("div")(i||(i=(0,o.A)(["\n  height: 1rem;\n  /* background-color: yellow; */\n"])))}}]);
//# sourceMappingURL=292.js.map?ver=621f576aca7f7d117213