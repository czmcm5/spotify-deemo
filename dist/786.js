"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[786],{8786:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var r=t(9494),a=t(3930),s=t(1083);const o=async()=>{try{const n=new URLSearchParams({grant_type:"client_credentials"});return(await s.A.post("https://accounts.spotify.com/api/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat((e="".concat("be102352fb6c4371b1cbe878ee8d901a",":").concat("6fc7e14c49ec47f5a10afcd30c91bdbe"),"undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64")))}})).data}catch(e){throw new Error("Fail to fetch token")}var e},i=()=>{const e=(()=>{const{data:e}=(0,a.I)({queryKey:["spo-access-token"],queryFn:o});return null==e?void 0:e.access_token})();return(0,a.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{const n=await s.A.get("".concat("https://api.spotify.com/v1","/browse/new-releases?limit=").concat(6),{headers:{Authorization:"Bearer ".concat(e)}});return console.log(n.data),n.data}catch(e){throw new Error("fail to fetch new releases")}})(e)}})};var c=t(7528),d=t(7695),l=t(6540);const m=t.p+"images/playArrow.png?ver=268195a693e6364e31a52dd9ebe3c5d5";var u,p=t(4848);const h=e=>{let{isfocuse:n}=e;return(0,p.jsx)(b,{className:n,children:(0,p.jsx)("img",{src:m})})},b=(0,d.Ay)("div")(u||(u=(0,c.A)(["\n  position: absolute;\n  right: 5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 3rem;\n  aspect-ratio: 1/1;\n  border-radius: 50px;\n  background-color: #1ed760;\n  box-shadow: 0 3px 5px 2px #00000072;\n\n  opacity: 0;\n  transition: bottom 0.4s ease, opacity 0.4s ease;\n  &.show {\n    bottom: 5%;\n    opacity: 1;\n  }\n\n  :hover {\n    width: 3.1rem;\n    background-color: #29ea6d;\n  }\n  img {\n    width: 25px;\n    height: 25px;\n  }\n"])));var w,f,x,g;const y=e=>{let{img:n,name:t,artist:a="알수없음"}=e;const[s,o]=(0,l.useState)("none");return(0,p.jsxs)(A,{onMouseOver:()=>o("show"),onMouseLeave:()=>o("none"),children:[(0,p.jsxs)(N,{children:[(0,p.jsx)("img",{src:n,alt:t,className:"Thumbnail"}),(0,p.jsx)(h,{isfocuse:s})]}),(0,p.jsx)(k,{children:t}),(0,p.jsx)(k,{children:s}),(0,p.jsx)(r.A,{variant:"subtitle1",children:a})]})},v=e=>{let{albums:n}=e;return(0,p.jsx)(j,{children:n.map(((e,n)=>(0,p.jsx)(y,{img:e.images[0].url,name:e.name,artist:e.artists[0].name},n)))})},j=(0,d.Ay)("div")(w||(w=(0,c.A)(["\n  display: flex;\n  margin-top: 2rem;\n  overflow: auto;\n  "," {\n    grid-template-columns: 1fr 1fr 1fr;\n    display: grid;\n  }\n  "," {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")}),(e=>{let{theme:n}=e;return n.breakpoints.down("sm")})),A=(0,d.Ay)("div")(f||(f=(0,c.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  :hover {\n    background-color: #272727;\n  }\n  "," {\n    max-width: 11.5rem;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.up("lg")})),k=(0,d.Ay)(r.A)(x||(x=(0,c.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),N=(0,d.Ay)("div")(g||(g=(0,c.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  overflow: hidden;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])));var _=t(7163);const q=e=>{let{errMessage:n}=e;return(0,p.jsxs)(_.A,{severity:"error",children:[n," "]})};var M=t(2972);const T=()=>{const{data:e,error:n,isLoading:t}=i();return t?(0,p.jsx)(M.A,{}):n?(0,p.jsx)(q,{errMessage:n.message}):(0,p.jsxs)("div",{children:[(0,p.jsx)(r.A,{variant:"h1",paddingTop:2,children:"New NowReleased Albums"}),e&&e.albums.items.length>0&&(0,p.jsx)(v,{albums:e.albums.items})]})},B=()=>(0,p.jsx)("div",{children:(0,p.jsx)(T,{})})}}]);
//# sourceMappingURL=786.js.map?ver=b6971d63c1e1e2808144