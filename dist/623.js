"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[623],{1206:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"images/music.png?ver=708d7d1874e81d24a372040f4906d76d"},2483:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(7163),a=r(4848);const i=e=>{let{errMessage:t}=e;return(0,a.jsxs)(n.A,{severity:"error",children:[t," "]})}},2680:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(4705),a=r(6475),i=r(1083),o=r(5800),s=r(3653);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const d=e=>{const t=(0,s.A)();return(0,a.q)({queryKey:["search",e.q,e.type],queryFn:r=>{let{pageParam:n=0}=r;if(t)return(async(e,t)=>{try{const r=new URLSearchParams;return r.append("q",t.q),r.append("type",t.type.join(",")),t.market&&r.append("market",t.market.toString()),t.limit&&r.append("limit",t.limit.toString()),t.offset&&r.append("offset",t.offset.toString()),t.include_external&&r.append("include_external",t.include_external),(await i.A.get("".concat(o.$,"/search"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:r})).data}catch(e){throw new Error("실패: 검색 결과 가져오기")}})(t,c(c({},e),{},{offset:n}))},enabled:!!e.q&&!!t,initialPageParam:0,getNextPageParam:e=>{var t,r,n,a,i,o,s;if(!e)return;const l=(null===(t=e.tracks)||void 0===t?void 0:t.next)||(null===(r=e.artists)||void 0===r?void 0:r.next)||(null===(n=e.albums)||void 0===n?void 0:n.next)||(null===(a=e.playlists)||void 0===a?void 0:a.next)||(null===(i=e.shows)||void 0===i?void 0:i.next)||(null===(o=e.episodes)||void 0===o?void 0:o.next)||(null===(s=e.audiobooks)||void 0===s?void 0:s.next);if(l){const e=new URL(l).searchParams.get("offset");return e?parseInt(e):void 0}}})}},3110:(e,t,r)=>{r.d(t,{F0:()=>u});var n=r(1083);const{Axios:a,AxiosError:i,CanceledError:o,isCancel:s,CancelToken:l,VERSION:c,all:d,Cancel:p,isAxiosError:u,spread:m,toFormData:y,AxiosHeaders:v,HttpStatusCode:h,formToJSON:b,getAdapter:f,mergeConfig:g}=n.A},3179:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(6540);const a=()=>{const[e,t]=(0,n.useState)("none");return{isfocuse:e,on:()=>t("show"),off:()=>t("none")}}},3653:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(7286),a=r(2154);const i=()=>{const{data:e}=(0,n.I)({queryKey:["spo-access-token"],queryFn:a.K});return null==e?void 0:e.access_token}},4064:(e,t,r)=>{r.d(t,{Dg:()=>c,Nt:()=>d,U4:()=>s,XI:()=>p,bt:()=>l,pR:()=>u});var n=r(3110),a=r(1083),i=r(5443),o=r(5800);const s=async e=>{let{limit:t,offset:r}=e;try{return(await i.A.get("/me/playlists",{params:{limit:t,offset:r}})).data}catch(e){throw new Error("실패: playlist 가져오기")}},l=async e=>{try{return(await i.A.get("/playlists/".concat(e.playlist_id),{params:e})).data}catch(e){var t;if(console.log(e),(0,n.F0)(e)&&401===(null===(t=e.response)||void 0===t?void 0:t.status))throw new Error("retry");throw new Error("fail getPlaylist")}},c=async e=>{try{return(await i.A.get("/playlists/".concat(e.playlist_id,"/tracks"),{params:e})).data}catch(e){throw new Error("fail getPlaylistItems")}},d=async(e,t)=>{try{const{name:r,collaborative:n,description:a}=t;return(await i.A.post("/users/".concat(e,"/playlists"),{name:r,public:t.public,collaborative:n,description:a})).data}catch(e){throw new Error("fail createPlaylist")}},p=async e=>{try{return(await i.A.post("/playlists/".concat(e.playlist_id,"/tracks"),e)).data}catch(e){var t;if((0,n.F0)(e)&&401===(null===(t=e.response)||void 0===t?void 0:t.status))throw new Error("retry");throw new Error("fail add item to playlist")}},u=async e=>{let{token:t,params:r}=e;try{return(await a.A.get("".concat(o.$,"/playlists/").concat(r.playlist_id,"/tracks"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:r})).data}catch(e){throw new Error("fail getPlaylistItems")}}},4705:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>a})},5443:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(1083),a=r(5800);const i=n.A.create({baseURL:a.$,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}});i.interceptors.request.use((e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),e)));const o=i},5504:(e,t,r)=>{r.d(t,{l:()=>i});var n,a=r(7528);const i=(0,r(9120).Ay)("div")(n||(n=(0,a.A)(["\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  "," {\n    grid-template-columns: 1fr 1fr 1fr;\n    display: grid;\n  }\n  "," {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n"])),(e=>{let{theme:t}=e;return t.breakpoints.down("md")}),(e=>{let{theme:t}=e;return t.breakpoints.down("sm")}))},5699:(e,t,r)=>{r.d(t,{A:()=>u});var n,a,i,o=r(7528),s=r(9494),l=r(9120),c=r(3179),d=r(5730),p=r(4848);const u=e=>{var t;let{albums:r}=e;const n=(0,c.A)();return(0,p.jsxs)(m,{onMouseOver:n.on,onMouseLeave:n.off,children:[(0,p.jsxs)(v,{children:[(0,p.jsx)("img",{src:null===(t=r.images[0])||void 0===t?void 0:t.url,alt:r.name,className:"Thumbnail"}),(0,p.jsx)(d.A,{isfocuse:n.isfocuse})]}),(0,p.jsx)(y,{children:r.name}),(0,p.jsx)(s.A,{variant:"subtitle1",children:r.artists[0].name})]})},m=(0,l.Ay)("div")(n||(n=(0,o.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),y=(0,l.Ay)(s.A)(a||(a=(0,o.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),v=(0,l.Ay)("div")(i||(i=(0,o.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  overflow: hidden;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])))},5730:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(7528),a=r(9120);const i=r.p+"images/playArrow.png?ver=268195a693e6364e31a52dd9ebe3c5d5";var o,s=r(4848);const l=e=>{let{isfocuse:t}=e;return(0,s.jsx)(c,{className:t,children:(0,s.jsx)("img",{src:i,alt:"재생버튼"})})},c=(0,a.Ay)("div")(o||(o=(0,n.A)(["\n  position: absolute;\n  right: 5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 3rem;\n  aspect-ratio: 1/1;\n  border-radius: 50px;\n  background-color: #1ed760;\n  box-shadow: 0 3px 5px 2px #00000072;\n\n  opacity: 0;\n  transition: bottom 0.4s ease, opacity 0.4s ease;\n  &.show {\n    bottom: 5%;\n    opacity: 1;\n  }\n\n  :hover {\n    width: 3.1rem;\n    background-color: #29ea6d;\n  }\n  img {\n    width: 25px;\n    height: 25px;\n  }\n"])))},6928:(e,t,r)=>{r.d(t,{C:()=>n});let n=function(e){return e.Album="album",e.Artist="artist",e.Playlist="playlists",e.Track="track",e.Show="show",e.Episode="episode",e.Audiobook="audiobook",e}({})},7285:(e,t,r)=>{r.d(t,{o:()=>n});const n=e=>"description"in e},7517:(e,t,r)=>{r.d(t,{A:()=>m});var n,a,i,o=r(7528),s=r(9494),l=r(9120),c=r(5730),d=r(3179),p=r(1206),u=r(4848);const m=e=>{var t;let{artists:r}=e;const n=(0,d.A)();return(0,u.jsxs)(y,{onMouseOver:n.on,onMouseLeave:n.off,children:[(0,u.jsxs)(h,{children:[(0,u.jsx)("img",{src:(null===(t=r.images[0])||void 0===t?void 0:t.url)||p.A,alt:r.name,className:"Thumbnail"}),(0,u.jsx)(c.A,{isfocuse:n.isfocuse})]}),(0,u.jsx)(v,{children:r.name}),(0,u.jsx)(s.A,{variant:"subtitle1",children:"Artist"})]})},y=(0,l.Ay)("div")(n||(n=(0,o.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),v=(0,l.Ay)(s.A)(a||(a=(0,o.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),h=(0,l.Ay)("div")(i||(i=(0,o.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n"])))},7623:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(7528),a=r(9494),i=r(9120),o=r(7286),s=r(1083),l=r(5800),c=r(3653);var d=r(2483),p=r(5504),u=r(4812),m=r(5699),y=r(4848);const v=()=>{const{data:e,error:t,isLoading:r}=(()=>{const e=(0,c.A)();return(0,o.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await s.A.get("".concat(l.$,"/browse/new-releases?limit=").concat(6),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("fail to fetch new releases")}})(e)}})})();return r?(0,y.jsx)(u.A,{}):t?(0,y.jsx)(d.A,{errMessage:t.message}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a.A,{variant:"h1",padding:2,paddingTop:6,children:"최근 출시 앨범"}),(0,y.jsx)(p.l,{children:null==e?void 0:e.albums.items.map(((e,t)=>(0,y.jsx)(m.A,{albums:e},t)))})]})};var h=r(7285),b=r(4064);var f,g,A,w=r(3179),x=r(1206),j=r(5730);const k=e=>{let{imgUrl:t=x.A,mainTitle:r="",subTitle:n=""}=e;const i=(0,w.A)();return(0,y.jsxs)(O,{onMouseOver:i.on,onMouseLeave:i.off,children:[(0,y.jsxs)(T,{children:[(0,y.jsx)("img",{src:t,alt:r,className:"Thumbnail"}),(0,y.jsx)(j.A,{isfocuse:i.isfocuse})]}),(0,y.jsx)(P,{children:r}),(0,y.jsx)(a.A,{variant:"subtitle1",children:n})]})},O=(0,i.Ay)("div")(f||(f=(0,n.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),P=(0,i.Ay)(a.A)(g||(g=(0,n.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),T=(0,i.Ay)("div")(A||(A=(0,n.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  overflow: hidden;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),E=e=>{let{playlist_id:t}=e;const{data:r,error:n}=(e=>{const t=(0,c.A)();return(0,o.I)({queryKey:["my-playlist",e],queryFn:async()=>{if(!t)throw new Error("No token available");return(0,b.pR)({token:t,params:{playlist_id:e,limit:12}})}})})(t);return n?(0,y.jsx)(d.A,{errMessage:n.message}):(0,y.jsx)(p.l,{children:null==r?void 0:r.items.map(((e,t)=>{var r;const n=(0,h.o)(e.track)?e.track.imgaes[0].url:null===(r=e.track.album.images)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.url,a=(0,h.o)(e.track)?"":e.track.artists[0].name;return(0,y.jsx)(k,{imgUrl:n,mainTitle:e.track.name,subTitle:a},t)}))})};var S=r(2680),_=r(7517);const q=e=>{let{keyword:t,type:r,limit:n}=e;const{data:a,error:i}=(0,S.A)({q:t,type:r,limit:n});return null!=a&&a.pages[0]?i?(0,y.jsx)(d.A,{errMessage:i.message}):(0,y.jsx)(p.l,{children:a.pages.map((e=>{var t;return null==e||null===(t=e.artists)||void 0===t?void 0:t.items.map(((e,t)=>(0,y.jsx)(_.A,{artists:e},t)))}))}):null};var C,N=r(6928);const I=()=>(0,y.jsxs)(M,{children:[(0,y.jsx)(a.A,{variant:"h1",padding:2,paddingTop:6,children:"최근 출시 앨범"}),(0,y.jsx)(v,{}),(0,y.jsx)(a.A,{variant:"h1",padding:2,paddingTop:6,children:"'가사없는 노래모음' 플레이리스트"}),(0,y.jsx)(E,{playlist_id:"5RgNs2EP5ajOgXpQxlATTT"}),(0,y.jsx)(a.A,{variant:"h1",padding:2,paddingTop:6,children:"추천 아티스트"}),(0,y.jsx)(q,{keyword:"아이브",type:[N.C.Artist],limit:6}),(0,y.jsx)(a.A,{variant:"h1",padding:2,paddingTop:6,children:"주인장 플레이리스트"}),(0,y.jsx)(E,{playlist_id:"1XcLX76RkDfQX8aXXO4jBP"})]}),M=(0,i.Ay)("div")(C||(C=(0,n.A)(["\n  max-height: 100%;\n  overflow: scroll;\n  padding-bottom: 10rem;\n"])))}}]);
//# sourceMappingURL=623.js.map?ver=e576e759a5b33b510591