/*! For license information please see 119.js.LICENSE.txt */
"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[119],{2483:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(7163),i=r(4848);const o=e=>{let{errMessage:t}=e;return(0,i.jsxs)(n.A,{severity:"error",children:[t," "]})}},3119:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var n=r(7528),i=r(9494),o=r(6739),s=r(2483),a=r(6475),c=r(4705),l=r(1083),u=r(5800);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,c.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=r(3653);var p=r(4812);const f=["#E8115B","#477D95","#503750","#7D4B32","#E61E32","#006450","#8D67AB","#477D95","#BA5D07","#A56752","#FF0090","#8D67AB"],b=e=>f[e%12];var m,y,v=r(3413),P=r(5865),w=r(8587),x=r(4848);const j=["bgColor","item"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,c.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=e=>{let{bgColor:t,item:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=(0,w.A)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,j);return(0,x.jsxs)(F,A(A({bgColor:t},n),{},{children:[(0,x.jsx)(i.A,{variant:"h1",children:r.name}),(0,x.jsx)(E,{children:(0,x.jsx)("img",{src:r.icons[0].url,alt:"카테고리 아이콘"})})]}))},F=(0,o.Ay)("div")(m||(m=(0,n.A)(["\n  position: relative;\n  min-width: 0;\n  aspect-ratio: 3/2;\n  padding: 1rem;\n  background-color: ",";\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: pointer;\n\n  &:hover {\n    > div {\n      right: 0;\n      bottom: 0;\n    }\n  }\n"])),(e=>{let{bgColor:t}=e;return t})),E=(0,o.Ay)("div")(y||(y=(0,n.A)(["\n  position: absolute;\n  right: -5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 45%;\n  aspect-ratio: 1/1;\n  background-color: #313131;\n  box-shadow: 0 3px 6px 2px #00000040;\n  border-radius: 4px;\n  overflow: hidden;\n  transform: rotate(45deg);\n  transition: bottom 0.4s ease, right 0.4s ease;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])));var D,N=r(5647);const S=()=>{const e=(0,N.Zp)(),{data:t,error:r,isLoading:n,hasNextPage:o,fetchNextPage:c,isFetchingNextPage:d}=(e=>{let{limit:t}=e;const r=(0,h.A)();return(0,a.q)({queryKey:["serveral-categories"],queryFn:e=>{let{pageParam:n}=e;if(r)return(async(e,t)=>{try{return(await l.A.get("".concat(u.$,"/browse/categories"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:g({limit:40},t)})).data}catch(e){throw new Error("실패: category 가져오기")}})(r,{limit:t,offset:n})},enabled:!!r,initialPageParam:0,getNextPageParam:e=>{if(e&&e.categories.next){const t=new URL(e.categories.next).searchParams.get("offset");return t?parseInt(t):void 0}}})})({limit:40});return(0,v.A)({page:"categoryList",isLoading:d,isFinished:!o,onIntersect:c}),t?n?(0,x.jsx)(p.A,{}):r?(0,x.jsx)(s.A,{errMessage:r.message}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.A,{variant:"h1",padding:2,paddingTop:6,children:"모두 둘러보기"}),(0,x.jsxs)(C,{children:[null==t?void 0:t.pages.map((t=>null==t?void 0:t.categories.items.map(((t,r)=>(0,x.jsx)(k,{item:t,bgColor:b(r),onClick:()=>{return r=t.name,e(r);var r}},r))))),(0,x.jsx)(P.A,{isLoading:d,isFinished:!o,showText:!1}),!d&&(0,x.jsx)(P.n,{id:"observer-categoryList"})]})]}):null},C=(0,o.Ay)("div")(D||(D=(0,n.A)(["\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  width: 100%;\n  max-height: 100%;\n  gap: 1.5rem;\n  padding: 1rem;\n  padding-bottom: 10rem;\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  @media screen and (max-width: 1200px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"])),(e=>{let{theme:t}=e;return t.breakpoints.down("md")}))},3413:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(6540);const i=e=>{let{page:t,isLoading:r,isFinished:i,onIntersect:o}=e;(0,n.useEffect)((()=>{if(r)return;if(i)return;const e=new IntersectionObserver((e=>{e[0].isIntersecting&&o()}),{threshold:0}),n=document.getElementById("observer-".concat(t));return n&&e.observe(n),()=>{n&&e.unobserve(n)}}),[r,i,o])}},3653:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(7286),i=r(2154);const o=()=>{const{data:e}=(0,n.I)({queryKey:["spo-access-token"],queryFn:i.K});return null==e?void 0:e.access_token}},4651:(e,t,r)=>{r.d(t,{Ay:()=>i});var n=r(1250);function i(e,t){let r;return r=t?(0,n.Ay)(e).withConfig({displayName:t.label,shouldForwardProp:t.shouldForwardProp}):(0,n.Ay)(e),r}},4705:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{A:()=>i})},5865:(e,t,r)=>{r.d(t,{A:()=>l,n:()=>d});var n,i,o=r(7528),s=r(4651),a=r(4812),c=r(4848);const l=e=>{let{isLoading:t,isFinished:r,showText:n=!0}=e;return(0,c.jsx)(u,{children:t?(0,c.jsx)(a.k,{width:30,height:30}):r&&n?(0,c.jsx)("div",{children:"마지막 입니다."}):(0,c.jsx)(c.Fragment,{})})},u=(0,s.Ay)("div")(n||(n=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 3rem;\n  font-size: 14px;\n  color: #858585;\n"]))),d=(0,s.Ay)("div")(i||(i=(0,o.A)(["\n  height: 1rem;\n  /* background-color: yellow; */\n"])))},6475:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(1651),i=r(8959),o=class extends n.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,i.PL)()})}getOptimisticResult(e){return e.behavior=(0,i.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:o,isRefetching:s,isError:a,isRefetchError:c}=n,l=r.fetchMeta?.fetchMore?.direction,u=a&&"forward"===l,d=o&&"forward"===l,g=a&&"backward"===l,h=o&&"backward"===l;return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,i.rB)(t,r.data),hasPreviousPage:(0,i.RQ)(t,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:g,isFetchingPreviousPage:h,isRefetchError:c&&!u&&!g,isRefetching:s&&!d&&!h}}},s=r(8074);function a(e,t){return(0,s.t)(e,o,t)}}}]);
//# sourceMappingURL=119.js.map?ver=69d6d3beab09a9919513