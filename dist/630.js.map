{"version":3,"file":"630.js?ver=5591b372512af9f56639","mappings":";sJAEA,MAIA,EAJqBA,IAA4C,IAA3C,WAAEC,GAAoCD,EAC1D,OAAOE,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,SAAS,QAAOC,SAAA,CAAEJ,EAAW,uDCD7C,MAiCA,EAjC0BD,IAUpB,IAVqB,KACzBM,EAAI,UACJC,EAAS,WACTC,EAAU,YACVC,GAMDT,GACCU,EAAAA,EAAAA,YAAU,KACR,GAAIH,EAAW,OACf,GAAIC,EAAY,OAEhB,MAAMG,EAAW,IAAIC,sBAClBC,IACKA,EAAQ,GAAGC,gBACbL,MAGJ,CAAEM,UAAW,IAGTC,EAAiBC,SAASC,eAAe,YAADC,OAAab,IAG3D,OAFIU,GAAgBL,EAASS,QAAQJ,GAE9B,KACDA,GAAgBL,EAASU,UAAUL,MAExC,CAACT,EAAWC,EAAYC,8DC7B7B,MAUA,EAV6Ba,KAC3B,MAAM,KAAEC,IAASC,EAAAA,EAAAA,GAAS,CACxBC,SAAU,CAAC,oBACXC,QAASC,EAAAA,IAIX,OADoBJ,aAAI,EAAJA,EAAMK,8DCDb,SAASC,EAAOC,EAAKC,GAClC,IAAIC,EAsBJ,OApBEA,EADED,GACc,QAASD,GAAKG,WAAW,CACvCC,YAAaH,EAAQI,MACrBC,kBAAmBL,EAAQK,qBAGb,QAASN,GAepBE,CACT,kBChCA,SAASK,EAAQC,GAGf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CACpH,EAAGD,EAAQC,EACb,CCPA,SAASK,EAAgBC,EAAGC,EAAGC,GAC7B,OAAQD,ECAV,SAAuBC,GACrB,IAAIC,ECFN,SAAqBD,GACnB,GAAI,UAAYT,EAAQS,KAAOA,EAAG,OAAOA,EACzC,IAAIF,EAAIE,EAAEP,OAAOS,aACjB,QAAI,IAAWJ,EAAG,CAChB,IAAIG,EAAIH,EAAEK,KAAKH,EAAGD,UAClB,GAAI,UAAYR,EAAQU,GAAI,OAAOA,EACnC,MAAM,IAAIG,UAAU,+CACtB,CACA,OAAyBC,OAAiBL,EAC5C,CDPUE,CAAYF,GACpB,MAAO,UAAYT,EAAQU,GAAKA,EAAIA,EAAI,EAC1C,CDHcK,CAAcP,MAAOD,EAAIS,OAAOC,eAAeV,EAAGC,EAAG,CAC/DU,MAAOT,EACPU,YAAY,EACZC,cAAc,EACdC,UAAU,IACPd,EAAEC,GAAKC,EAAGF,CACjB,qvBGRA,MAAMe,EAAW,CACf,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGWC,EAAaC,GACjBF,EAASE,EAAM,0CCbxB,MAiBA,EAjBwB7D,IAMlB,IANmB,QACvB8D,EAAO,KACPC,GAID/D,EACC,OACEE,EAAAA,EAAAA,MAAC8D,EAAO,CAACF,QAASA,EAAQzD,SAAA,EACxB4D,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,QAAQ,KAAI9D,SAAE0D,EAAKK,QAC/BH,EAAAA,EAAAA,KAACI,EAAM,CAAAhE,UACL4D,EAAAA,EAAAA,KAAA,OAAKK,IAAKP,EAAKQ,MAAM,GAAGC,IAAKC,IAAI,mBAQnCT,GAAUnC,EAAAA,EAAAA,IAAO,MAAPA,CAAa6C,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+PAKPC,IAAA,IAAC,QAAEd,GAASc,EAAA,OAAKd,KAYjCO,GAASxC,EAAAA,EAAAA,IAAO,MAAPA,CAAagD,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,gcC9B5B,MAiDA,EAjDmBG,KACjB,MACEvD,KAAMwD,EAAY,MAClBC,EAAK,UACLzE,EAAS,YACT0E,EAAW,cACXC,EAAa,mBACbC,GCX0BnF,KAAuC,IAAtC,MAAEoF,GAA+BpF,EAC9D,MAAMqF,GAAc/D,EAAAA,EAAAA,KAEpB,OAAOgE,EAAAA,EAAAA,GAAiB,CACtB7D,SAAU,CAAC,uBACXC,QAASkD,IAAmB,IAAlB,UAAEW,GAAWX,EACrB,GAAIS,EACF,MCL2BG,OACjCC,EACAC,KAEA,IAYE,aAXkBC,EAAAA,EAAMC,IAAI,GAADzE,OAAI0E,EAAAA,EAAgB,sBAAsB,CACnEC,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAF5E,OAAYsE,IAE3BC,OAAMM,EAAA,CACJZ,MAAO,IACJM,MAIInE,IACb,CAAE,MAAO0E,GACP,MAAM,IAAIC,MAAM,oBAClB,GDdaC,CAAoBd,EAAa,CAAED,QAAOgB,OAAQb,KAI7Dc,UAAWhB,EACXiB,iBAAkB,EAClBC,iBAAmBC,IACjB,GAAIA,GAAYA,EAASC,WAAWC,KAAM,CACxC,MACMC,EADM,IAAIC,IAAIJ,EAASC,WAAWC,MACjBG,aAAajB,IAAI,UACxC,OAAOe,EAAaG,SAASH,QAAcI,CAC7C,MDNAC,CAAsB,CAAE5B,MAAO,KASnC,OAPA6B,EAAAA,EAAAA,GAAkB,CAChB3G,KAAM,eACNC,UAAW4E,EACX3E,YAAayE,EACbxE,YAAayE,IAGVH,EAGDxE,GACK0D,EAAAA,EAAAA,KAACiD,EAAAA,EAAU,IAEhBlC,GACKf,EAAAA,EAAAA,KAACkD,EAAAA,EAAY,CAAClH,WAAY+E,EAAMoC,WAGvClH,EAAAA,EAAAA,MAAAmH,EAAAA,SAAA,CAAAhH,SAAA,EACE4D,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,QAAQ,KAAKmD,QAAS,EAAGC,WAAY,EAAElH,SAAC,aAIpDH,EAAAA,EAAAA,MAACsH,EAAI,CAAAnH,SAAA,CACF0E,aAAY,EAAZA,EAAc0C,MAAMC,KAAKpH,GACxBA,aAAI,EAAJA,EAAMmG,WAAWkB,MAAMD,KAAI,CAAC3D,EAAMF,KAChCI,EAAAA,EAAAA,KAAC2D,EAAe,CAAW7D,KAAMA,EAAMD,QAASF,EAAUC,IAApCA,QAI1BI,EAAAA,EAAAA,KAAC4D,EAAAA,EAAS,CACRtH,UAAW4E,EACX3E,YAAayE,EACb6C,UAAU,KAEV3C,IAAsBlB,EAAAA,EAAAA,KAAC8D,EAAAA,EAAQ,CAACC,GAAG,gCA1BlC,MAiCLR,GAAO3F,EAAAA,EAAAA,IAAO,MAAPA,CAAa6C,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gaAiBtB3E,IAAA,IAAC,MAAEiI,GAAOjI,EAAA,OAAKiI,EAAMC,YAAYC,KAAK,kGG1E1C,MAsBA,EAtBkBnI,IAQZ,IARa,UACjBO,EAAS,WACTC,EAAU,SACVsH,GAAW,GAKZ9H,EACC,OACEiE,EAAAA,EAAAA,KAACmE,EAAM,CAAA/H,SACJE,GACC0D,EAAAA,EAAAA,KAACoE,EAAAA,EAAc,CAACC,MAAO,GAAIC,OAAQ,KACjC/H,GAAcsH,GAChB7D,EAAAA,EAAAA,KAAA,OAAA5D,SAAK,cAEL4D,EAAAA,EAAAA,KAAAoD,EAAAA,SAAA,OAQFe,GAASvG,EAAAA,EAAAA,IAAO,MAAPA,CAAa6C,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wIASfoD,GAAWlG,EAAAA,EAAAA,IAAO,MAAPA,CAAagD,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,uHC7BjC6D,EAAwB,cAAc,IACxC,WAAA/F,CAAYgG,EAAQ1G,GAClB2G,MAAMD,EAAQ1G,EAChB,CACA,WAAA4G,GACED,MAAMC,cACNC,KAAK1D,cAAgB0D,KAAK1D,cAAc2D,KAAKD,MAC7CA,KAAKE,kBAAoBF,KAAKE,kBAAkBD,KAAKD,KACvD,CACA,UAAAG,CAAWhH,GACT2G,MAAMK,WAAW,IACZhH,EACHiH,UAAU,EAAAC,EAAA,OAEd,CACA,mBAAAC,CAAoBnH,GAElB,OADAA,EAAQiH,UAAW,EAAAC,EAAA,MACZP,MAAMQ,oBAAoBnH,EACnC,CACA,aAAAmD,CAAcnD,GACZ,OAAO6G,KAAKO,MAAM,IACbpH,EACHqH,KAAM,CACJC,UAAW,CAAEC,UAAW,aAG9B,CACA,iBAAAR,CAAkB/G,GAChB,OAAO6G,KAAKO,MAAM,IACbpH,EACHqH,KAAM,CACJC,UAAW,CAAEC,UAAW,cAG9B,CACA,YAAAC,CAAaC,EAAOzH,GAClB,MAAM,MAAE0H,GAAUD,EACZE,EAAehB,MAAMa,aAAaC,EAAOzH,IACzC,WAAE4H,EAAU,aAAEC,EAAY,QAAEC,EAAO,eAAEC,GAAmBJ,EACxDK,EAAiBN,EAAMO,WAAWX,WAAWC,UAC7CW,EAAuBJ,GAA8B,YAAnBE,EAClC5E,EAAqBwE,GAAiC,YAAnBI,EACnCG,EAA2BL,GAA8B,aAAnBE,EACtCI,EAAyBR,GAAiC,aAAnBI,EAc7C,MAbe,IACVL,EACHxE,cAAe0D,KAAK1D,cACpB4D,kBAAmBF,KAAKE,kBACxB7D,aAAa,QAAYlD,EAAS0H,EAAMlI,MACxC6I,iBAAiB,QAAgBrI,EAAS0H,EAAMlI,MAChD0I,uBACA9E,qBACA+E,2BACAC,yBACAL,eAAgBA,IAAmBG,IAAyBC,EAC5DN,aAAcA,IAAiBzE,IAAuBgF,EAG1D,aC5DF,SAAS7E,EAAiBvD,EAASsI,GACjC,OAAO,EAAAC,EAAA,GACLvI,EACAyG,EACA6B,EAEJ","sources":["webpack://spotify-deemo/./src/Layout/ErrorMessage.tsx","webpack://spotify-deemo/./src/hook/local/useInfiniteScroll.ts","webpack://spotify-deemo/./src/hook/useGetSpoAccessToken.ts","webpack://spotify-deemo/./node_modules/@mui/styled-engine-sc/esm/index.js","webpack://spotify-deemo/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://spotify-deemo/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://spotify-deemo/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://spotify-deemo/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://spotify-deemo/./src/utils/category.ts","webpack://spotify-deemo/./src/page/Search/component/CategoryItem.tsx","webpack://spotify-deemo/./src/page/Search/SearchPage.tsx","webpack://spotify-deemo/./src/hook/useGetSeveralCategory.ts","webpack://spotify-deemo/./src/api/category.ts","webpack://spotify-deemo/./src/style/LodingBox.tsx","webpack://spotify-deemo/./node_modules/@tanstack/query-core/build/modern/infiniteQueryObserver.js","webpack://spotify-deemo/./node_modules/@tanstack/react-query/build/modern/useInfiniteQuery.js"],"sourcesContent":["import { Alert } from \"@mui/material\";\n\nconst ErrorMessage = ({ errMessage }: { errMessage: string }) => {\n  return <Alert severity=\"error\">{errMessage} </Alert>;\n};\n\nexport default ErrorMessage;\n","import { useEffect } from \"react\";\n\nconst useInfiniteScroll = ({\n  page,\n  isLoading,\n  isFinished,\n  onIntersect,\n}: {\n  page: string;\n  isLoading: boolean;\n  isFinished: boolean;\n  onIntersect: () => void;\n}) => {\n  useEffect(() => {\n    if (isLoading) return;\n    if (isFinished) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          onIntersect();\n        }\n      },\n      { threshold: 0 }\n    );\n\n    const observerTarget = document.getElementById(`observer-${page}`);\n    if (observerTarget) observer.observe(observerTarget);\n\n    return () => {\n      if (observerTarget) observer.unobserve(observerTarget);\n    };\n  }, [isLoading, isFinished, onIntersect]);\n};\n\nexport default useInfiniteScroll;\n","import { useQuery } from \"@tanstack/react-query\";\nimport { getSpotifyToken } from \"../api/authApi\";\n\nconst useGetSpoAccessToken = () => {\n  const { data } = useQuery({\n    queryKey: [\"spo-access-token\"],\n    queryFn: getSpotifyToken,\n  });\n\n  const accessToken = data?.access_token;\n  return accessToken;\n};\n\nexport default useGetSpoAccessToken;\n","/**\n * @mui/styled-engine-sc v7.1.1\n *\n * @license MIT\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport scStyled from 'styled-components';\nexport default function styled(tag, options) {\n  let stylesFactory;\n  if (options) {\n    stylesFactory = scStyled(tag).withConfig({\n      displayName: options.label,\n      shouldForwardProp: options.shouldForwardProp\n    });\n  } else {\n    stylesFactory = scStyled(tag);\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    const fn = (...styles) => {\n      const component = typeof tag === 'string' ? `\"${tag}\"` : 'component';\n      if (styles.length === 0) {\n        console.error([`MUI: Seems like you called \\`styled(${component})()\\` without a \\`style\\` argument.`, 'You must provide a `styles` argument: `styled(\"div\")(styleYouForgotToPass)`.'].join('\\n'));\n      } else if (styles.some(style => style === undefined)) {\n        console.error(`MUI: the styled(${component})(...args) API requires all its args to be defined.`);\n      }\n      return stylesFactory(...styles);\n    };\n    fn.withConfig = stylesFactory.withConfig;\n    return fn;\n  }\n  return stylesFactory;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function internal_mutateStyles(tag, processor) {\n  // Styled-components attaches an instance to `componentStyle`.\n  // https://github.com/styled-components/styled-components/blob/da8151762dcf72735ffba358173d4c097f6d5888/packages/styled-components/src/models/StyledComponent.ts#L257\n  //\n  // The instance contains `rules` (the styles)\n  // https://github.com/styled-components/styled-components/blob/da8151762dcf72735ffba358173d4c097f6d5888/packages/styled-components/src/models/ComponentStyle.ts#L23\n  if (tag.componentStyle) {\n    tag.componentStyle.rules = processor(tag.componentStyle.rules);\n  }\n}\n\n// Not needed anymore, but fixes https://github.com/mui/material-ui/issues/44112\n// TODO: Remove it in v7\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function internal_processStyles(tag, processor) {\n  return internal_mutateStyles(tag, processor);\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function internal_serializeStyles(styles) {\n  return styles;\n}\nexport { ThemeContext, keyframes, css } from 'styled-components';\nexport { default as StyledEngineProvider } from \"./StyledEngineProvider/index.js\";\nexport { default as GlobalStyles } from \"./GlobalStyles/index.js\";","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const codes_12 = [\n  \"#E8115B\",\n  \"#477D95\",\n  \"#503750\",\n  \"#7D4B32\",\n  \"#E61E32\",\n  \"#006450\",\n  \"#8D67AB\",\n  \"#477D95\",\n  \"#BA5D07\",\n  \"#A56752\",\n  \"#FF0090\",\n  \"#8D67AB\",\n];\n\nexport const getBgolor = (idx: number) => {\n  return codes_12[idx % 12];\n};\n","import { styled, Typography } from \"@mui/material\";\nimport { CategoryItem } from \"../../../models/category\";\n\nconst CategoryItemBox = ({\n  bgColor,\n  item,\n}: {\n  bgColor: string;\n  item: CategoryItem;\n}) => {\n  return (\n    <CardBox bgColor={bgColor}>\n      <Typography variant=\"h1\">{item.name}</Typography>\n      <PicBox>\n        <img src={item.icons[0].url} alt=\"카테고리 아이콘\" />\n      </PicBox>\n    </CardBox>\n  );\n};\n\nexport default CategoryItemBox;\n\nconst CardBox = styled(\"div\")<{ bgColor: string }>`\n  position: relative;\n  min-width: 0;\n  aspect-ratio: 3/2;\n  padding: 1rem;\n  background-color: ${({ bgColor }) => bgColor};\n  border-radius: 8px;\n  overflow: hidden;\n  cursor: pointer;\n\n  &:hover {\n    > div {\n      right: 0;\n      bottom: 0;\n    }\n  }\n`;\nconst PicBox = styled(\"div\")`\n  position: absolute;\n  right: -5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 45%;\n  aspect-ratio: 1/1;\n  background-color: #313131;\n  box-shadow: 0 3px 6px 2px #00000040;\n  border-radius: 4px;\n  overflow: hidden;\n  transform: rotate(45deg);\n  transition: bottom 0.4s ease, right 0.4s ease;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`;\n","import { styled, Typography } from \"@mui/material\";\nimport ErrorMessage from \"../../Layout/ErrorMessage\";\nimport useGetSeveralCategory from \"../../hook/useGetSeveralCategory\";\nimport LoadingBar from \"../../style/LoadingBar\";\nimport { getBgolor } from \"../../utils/category\";\nimport useInfiniteScroll from \"../../hook/local/useInfiniteScroll\";\nimport LoadState, { Observer } from \"../../style/LodingBox\";\nimport CategoryItemBox from \"./component/CategoryItem\";\n\nconst SearchPage = () => {\n  const {\n    data: categoryList,\n    error,\n    isLoading,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  } = useGetSeveralCategory({ limit: 40 });\n\n  useInfiniteScroll({\n    page: \"categoryList\",\n    isLoading: isFetchingNextPage,\n    isFinished: !hasNextPage,\n    onIntersect: fetchNextPage,\n  });\n\n  if (!categoryList) {\n    return null;\n  }\n  if (isLoading) {\n    return <LoadingBar />;\n  }\n  if (error) {\n    return <ErrorMessage errMessage={error.message} />;\n  }\n  return (\n    <>\n      <Typography variant=\"h1\" padding={2} paddingTop={6}>\n        모두 둘러보기\n      </Typography>\n\n      <List>\n        {categoryList?.pages.map((page) =>\n          page?.categories.items.map((item, idx) => (\n            <CategoryItemBox key={idx} item={item} bgColor={getBgolor(idx)} />\n          ))\n        )}\n\n        <LoadState\n          isLoading={isFetchingNextPage}\n          isFinished={!hasNextPage}\n          showText={false}\n        />\n        {!isFetchingNextPage && <Observer id=\"observer-categoryList\" />}\n      </List>\n    </>\n  );\n};\nexport default SearchPage;\n\nconst List = styled(\"div\")`\n  box-sizing: border-box;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  width: 100%;\n  max-height: 100%;\n  gap: 1.5rem;\n  padding: 1rem;\n  padding-bottom: 10rem;\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  @media screen and (max-width: 1200px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  ${({ theme }) => theme.breakpoints.down(\"md\")} {\n    grid-template-columns: repeat(2, 1fr);\n  }\n`;\n","import { useInfiniteQuery } from \"@tanstack/react-query\";\nimport { getServeralCategory } from \"../api/category\";\nimport { GetServeralCategoryReq } from \"../models/category\";\nimport useGetSpoAccessToken from \"./useGetSpoAccessToken\";\n\nconst useGetSeveralCategory = ({ limit }: GetServeralCategoryReq) => {\n  const clientToken = useGetSpoAccessToken();\n\n  return useInfiniteQuery({\n    queryKey: [\"serveral-categories\"],\n    queryFn: ({ pageParam }) => {\n      if (clientToken) {\n        return getServeralCategory(clientToken, { limit, offset: pageParam });\n      }\n      return undefined;\n    },\n    enabled: !!clientToken,\n    initialPageParam: 0,\n    getNextPageParam: (lastPage) => {\n      if (lastPage && lastPage.categories.next) {\n        const url = new URL(lastPage.categories.next);\n        const nextOffset = url.searchParams.get(\"offset\");\n        return nextOffset ? parseInt(nextOffset) : undefined;\n      }\n      return undefined;\n    },\n  });\n};\n\nexport default useGetSeveralCategory;\n","import axios from \"axios\";\nimport { SPOTIFY_BASE_URL } from \"../configs/commonConfig\";\nimport {\n  GetServeralCategoryReq,\n  GetServeralCategoryRes,\n} from \"../models/category\";\n\nexport const getServeralCategory = async (\n  token: string,\n  params: GetServeralCategoryReq\n): Promise<GetServeralCategoryRes> => {\n  try {\n    const res = await axios.get(`${SPOTIFY_BASE_URL}/browse/categories`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      params: {\n        limit: 40,\n        ...params,\n      },\n    });\n\n    return res.data;\n  } catch (err) {\n    throw new Error(\"실패: category 가져오기\");\n  }\n};\n","import styled from \"@mui/styled-engine-sc\";\nimport { LoadingSpinner } from \"./LoadingBar\";\n\nconst LoadState = ({\n  isLoading,\n  isFinished,\n  showText = true,\n}: {\n  isLoading: boolean;\n  isFinished: boolean;\n  showText?: boolean;\n}) => {\n  return (\n    <Loding>\n      {isLoading ? (\n        <LoadingSpinner width={30} height={30} />\n      ) : isFinished && showText ? (\n        <div>마지막 입니다.</div>\n      ) : (\n        <></>\n      )}\n    </Loding>\n  );\n};\n\nexport default LoadState;\n\nconst Loding = styled(\"div\")`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 3rem;\n  font-size: 14px;\n  color: #858585;\n`;\n\nexport const Observer = styled(\"div\")`\n  height: 1rem;\n  /* background-color: yellow; */\n`;\n","// src/infiniteQueryObserver.ts\nimport { QueryObserver } from \"./queryObserver.js\";\nimport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n} from \"./infiniteQueryBehavior.js\";\nvar InfiniteQueryObserver = class extends QueryObserver {\n  constructor(client, options) {\n    super(client, options);\n  }\n  bindMethods() {\n    super.bindMethods();\n    this.fetchNextPage = this.fetchNextPage.bind(this);\n    this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\n  }\n  setOptions(options) {\n    super.setOptions({\n      ...options,\n      behavior: infiniteQueryBehavior()\n    });\n  }\n  getOptimisticResult(options) {\n    options.behavior = infiniteQueryBehavior();\n    return super.getOptimisticResult(options);\n  }\n  fetchNextPage(options) {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: \"forward\" }\n      }\n    });\n  }\n  fetchPreviousPage(options) {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: \"backward\" }\n      }\n    });\n  }\n  createResult(query, options) {\n    const { state } = query;\n    const parentResult = super.createResult(query, options);\n    const { isFetching, isRefetching, isError, isRefetchError } = parentResult;\n    const fetchDirection = state.fetchMeta?.fetchMore?.direction;\n    const isFetchNextPageError = isError && fetchDirection === \"forward\";\n    const isFetchingNextPage = isFetching && fetchDirection === \"forward\";\n    const isFetchPreviousPageError = isError && fetchDirection === \"backward\";\n    const isFetchingPreviousPage = isFetching && fetchDirection === \"backward\";\n    const result = {\n      ...parentResult,\n      fetchNextPage: this.fetchNextPage,\n      fetchPreviousPage: this.fetchPreviousPage,\n      hasNextPage: hasNextPage(options, state.data),\n      hasPreviousPage: hasPreviousPage(options, state.data),\n      isFetchNextPageError,\n      isFetchingNextPage,\n      isFetchPreviousPageError,\n      isFetchingPreviousPage,\n      isRefetchError: isRefetchError && !isFetchNextPageError && !isFetchPreviousPageError,\n      isRefetching: isRefetching && !isFetchingNextPage && !isFetchingPreviousPage\n    };\n    return result;\n  }\n};\nexport {\n  InfiniteQueryObserver\n};\n//# sourceMappingURL=infiniteQueryObserver.js.map","\"use client\";\n\n// src/useInfiniteQuery.ts\nimport { InfiniteQueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useInfiniteQuery(options, queryClient) {\n  return useBaseQuery(\n    options,\n    InfiniteQueryObserver,\n    queryClient\n  );\n}\nexport {\n  useInfiniteQuery\n};\n//# sourceMappingURL=useInfiniteQuery.js.map"],"names":["_ref","errMessage","_jsxs","Alert","severity","children","page","isLoading","isFinished","onIntersect","useEffect","observer","IntersectionObserver","entries","isIntersecting","threshold","observerTarget","document","getElementById","concat","observe","unobserve","useGetSpoAccessToken","data","useQuery","queryKey","queryFn","getSpotifyToken","access_token","styled","tag","options","stylesFactory","withConfig","displayName","label","shouldForwardProp","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperty","e","r","t","i","toPrimitive","call","TypeError","String","toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","codes_12","getBgolor","idx","bgColor","item","CardBox","_jsx","Typography","variant","name","PicBox","src","icons","url","alt","_templateObject","_taggedTemplateLiteral","_ref2","_templateObject2","SearchPage","categoryList","error","hasNextPage","fetchNextPage","isFetchingNextPage","limit","clientToken","useInfiniteQuery","pageParam","async","token","params","axios","get","SPOTIFY_BASE_URL","headers","Authorization","_objectSpread","err","Error","getServeralCategory","offset","enabled","initialPageParam","getNextPageParam","lastPage","categories","next","nextOffset","URL","searchParams","parseInt","undefined","useGetSeveralCategory","useInfiniteScroll","LoadingBar","ErrorMessage","message","_Fragment","padding","paddingTop","List","pages","map","items","CategoryItemBox","LoadState","showText","Observer","id","theme","breakpoints","down","Loding","LoadingSpinner","width","height","InfiniteQueryObserver","client","super","bindMethods","this","bind","fetchPreviousPage","setOptions","behavior","infiniteQueryBehavior","getOptimisticResult","fetch","meta","fetchMore","direction","createResult","query","state","parentResult","isFetching","isRefetching","isError","isRefetchError","fetchDirection","fetchMeta","isFetchNextPageError","isFetchPreviousPageError","isFetchingPreviousPage","hasPreviousPage","queryClient","useBaseQuery"],"sourceRoot":""}