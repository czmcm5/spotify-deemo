"use strict";(self.webpackChunkspotify_deemo=self.webpackChunkspotify_deemo||[]).push([[975],{583:(e,n,t)=>{t.d(n,{A:()=>l});var r,i=t(7528),o=t(9494),s=t(6739),a=t(4848);const l=e=>{let{keyword:n}=e;return(0,a.jsxs)(d,{children:[(0,a.jsxs)(o.A,{variant:"h1",marginBottom:"0.5rem",children:['"',n,'"과(와) 일치하는 결과 없음']}),(0,a.jsx)(o.A,{variant:"h2",color:"#999999",marginBottom:"1rem",children:"입력한 단어의 철자가 맞는지 확인하거나 짧은 키워드 또는 다른 키워드를 사용하세요."})]})},d=(0,s.Ay)("div")(r||(r=(0,i.A)(["\n  margin-top: 2rem;\n  text-align: center;\n"])))},1206:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"images/music.png?ver=708d7d1874e81d24a372040f4906d76d"},2483:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(7163),i=t(4848);const o=e=>{let{errMessage:n}=e;return(0,i.jsxs)(r.A,{severity:"error",children:[n," "]})}},2680:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(4705),i=t(6475),o=t(1083),s=t(5800),a=t(3653);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const c=e=>{const n=(0,a.A)();return(0,i.q)({queryKey:["search",e.q,e.type],queryFn:t=>{let{pageParam:r=0}=t;if(n)return(async(e,n)=>{try{const t=new URLSearchParams;return t.append("q",n.q),t.append("type",n.type.join(",")),n.market&&t.append("market",n.market.toString()),n.limit&&t.append("limit",n.limit.toString()),n.offset&&t.append("offset",n.offset.toString()),n.include_external&&t.append("include_external",n.include_external),(await o.A.get("".concat(s.$,"/search"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},params:t})).data}catch(e){throw new Error}})(n,d(d({},e),{},{offset:r}))},enabled:!!e.q&&!!n,initialPageParam:0,getNextPageParam:e=>{var n,t,r,i,o,s,a;if(!e)return;const l=(null===(n=e.tracks)||void 0===n?void 0:n.next)||(null===(t=e.artists)||void 0===t?void 0:t.next)||(null===(r=e.albums)||void 0===r?void 0:r.next)||(null===(i=e.playlists)||void 0===i?void 0:i.next)||(null===(o=e.shows)||void 0===o?void 0:o.next)||(null===(s=e.episodes)||void 0===s?void 0:s.next)||(null===(a=e.audiobooks)||void 0===a?void 0:a.next);if(l){const e=new URL(l).searchParams.get("offset");return e?parseInt(e):void 0}}})}},3179:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(6540);const i=()=>{const[e,n]=(0,r.useState)("none");return{isfocuse:e,on:()=>n("show"),off:()=>n("none")}}},3413:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(6540);const i=e=>{let{page:n,isLoading:t,isFinished:i,onIntersect:o}=e;(0,r.useEffect)((()=>{if(t)return;if(i)return;const e=new IntersectionObserver((e=>{e[0].isIntersecting&&o()}),{threshold:0}),r=document.getElementById("observer-".concat(n));return r&&e.observe(r),()=>{r&&e.unobserve(r)}}),[t,i,o])}},3653:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(7286),i=t(2154);const o=()=>{const{data:e}=(0,r.I)({queryKey:["spo-access-token"],queryFn:i.K});return null==e?void 0:e.access_token}},4705:(e,n,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,n,t){return(n=function(e){var n=function(e){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=r(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{A:()=>i})},5504:(e,n,t)=>{t.d(n,{l:()=>o});var r,i=t(7528);const o=(0,t(6739).Ay)("div")(r||(r=(0,i.A)(["\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  "," {\n    grid-template-columns: 1fr 1fr 1fr;\n    display: grid;\n  }\n  "," {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")}),(e=>{let{theme:n}=e;return n.breakpoints.down("sm")}))},5563:(e,n,t)=>{function r(e){if(null===e)return"-";const n=new Date(e),t=(new Date).getTime()-n.getTime(),r=Math.floor(t/864e5);return r>0?"".concat(r,"일 전"):"오늘"}function i(e){const n=Math.floor(e/1e3),t=Math.floor(n/60),r=(n%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)}function o(e,n,t){return e*n+t+1}t.d(n,{H5:()=>o,N_:()=>r,vq:()=>i})},5699:(e,n,t)=>{t.d(n,{A:()=>m});var r,i,o,s=t(7528),a=t(9494),l=t(6739),d=t(3179),c=t(5730),u=t(4848);const m=e=>{var n;let{albums:t}=e;const r=(0,d.A)();return(0,u.jsxs)(h,{onMouseOver:r.on,onMouseLeave:r.off,children:[(0,u.jsxs)(v,{children:[(0,u.jsx)("img",{src:null===(n=t.images[0])||void 0===n?void 0:n.url,alt:t.name,className:"Thumbnail"}),(0,u.jsx)(c.A,{isfocuse:r.isfocuse})]}),(0,u.jsx)(p,{children:t.name}),(0,u.jsx)(a.A,{variant:"subtitle1",children:t.artists[0].name})]})},h=(0,l.Ay)("div")(r||(r=(0,s.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),p=(0,l.Ay)(a.A)(i||(i=(0,s.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),v=(0,l.Ay)("div")(o||(o=(0,s.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  border-radius: 8px;\n  overflow: hidden;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])))},5730:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(7528),i=t(6739);const o=t.p+"images/playArrow.png?ver=268195a693e6364e31a52dd9ebe3c5d5";var s,a=t(4848);const l=e=>{let{isfocuse:n}=e;return(0,a.jsx)(d,{className:n,children:(0,a.jsx)("img",{src:o})})},d=(0,i.Ay)("div")(s||(s=(0,r.A)(["\n  position: absolute;\n  right: 5%;\n  bottom: -10%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 3rem;\n  aspect-ratio: 1/1;\n  border-radius: 50px;\n  background-color: #1ed760;\n  box-shadow: 0 3px 5px 2px #00000072;\n\n  opacity: 0;\n  transition: bottom 0.4s ease, opacity 0.4s ease;\n  &.show {\n    bottom: 5%;\n    opacity: 1;\n  }\n\n  :hover {\n    width: 3.1rem;\n    background-color: #29ea6d;\n  }\n  img {\n    width: 25px;\n    height: 25px;\n  }\n"])))},5865:(e,n,t)=>{t.d(n,{A:()=>d,n:()=>u});var r,i,o=t(7528),s=t(4651),a=t(4812),l=t(4848);const d=e=>{let{isLoading:n,isFinished:t,showText:r=!0}=e;return(0,l.jsx)(c,{children:n?(0,l.jsx)(a.k,{width:30,height:30}):t&&r?(0,l.jsx)("div",{children:"마지막 입니다."}):(0,l.jsx)(l.Fragment,{})})},c=(0,s.Ay)("div")(r||(r=(0,o.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 3rem;\n  font-size: 14px;\n  color: #858585;\n"]))),u=(0,s.Ay)("div")(i||(i=(0,o.A)(["\n  height: 1rem;\n  /* background-color: yellow; */\n"])))},6928:(e,n,t)=>{t.d(n,{C:()=>r});let r=function(e){return e.Album="album",e.Artist="artist",e.Playlist="playlists",e.Track="track",e.Show="show",e.Episode="episode",e.Audiobook="audiobook",e}({})},7975:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ie});var r=t(7528),i=t(6739),o=t(6858),s=t(6540),a=t(5647),l=t(6928),d=t(4848);const c=[{label:"전체",types:[l.C.Track,l.C.Album,l.C.Artist]},{label:"곡",types:[l.C.Track]},{label:"아티스트",types:[l.C.Artist]},{label:"앨범",types:[l.C.Album]}],u=(0,s.createContext)(void 0),m=e=>{let{children:n}=e;const{pathname:t}=(0,a.zy)(),[r,i]=(0,s.useState)("전체"),o=(0,s.useMemo)((()=>{try{return decodeURIComponent(t.replace("/search/",""))}catch(e){return console.warn("URL 디코딩 실패:",e),t.replace("/search/","")}}),[t]),m=(0,s.useMemo)((()=>c.find((e=>e.label===r))),[r]),h=(0,s.useMemo)((()=>{var e;return null!==(e=null==m?void 0:m.types)&&void 0!==e?e:[l.C.Track,l.C.Album,l.C.Artist]}),[m]),p=(0,s.useMemo)((()=>1===h.length?20:6),[h.length]),v=(0,s.useCallback)((e=>r===e),[r]),g=(0,s.useCallback)((e=>{c.some((n=>n.label===e))?i(e):console.warn("유효하지 않은 메뉴 이름: ".concat(e))}),[]),x=(0,s.useMemo)((()=>({keyword:o,type:h,limit:p,menuName:r,setMenuName:g,isSelected:v})),[o,h,p,r,g,v]);return(0,d.jsx)(u.Provider,{value:x,children:n})},h=()=>{const e=(0,s.useContext)(u);if(!e)throw new Error("useSearchFilterContext must be used within a SearchFilterProvider");return e};var p;const v=()=>{const{setMenuName:e,isSelected:n}=h();return(0,d.jsx)(o.A,{display:"flex",children:["전체","곡","아티스트","앨범"].map((t=>(0,d.jsx)(g,{onClick:()=>e(t),className:n(t)?"this":"",children:t},t)))})},g=(0,i.Ay)("div")(p||(p=(0,r.A)(["\n  padding: 5px 1rem;\n  background-color: #3a3a3a;\n  border-radius: 50px;\n  margin-right: 0.5rem;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #454545;\n  }\n  &.this {\n    background-color: white;\n    color: #2a2a2a;\n    font-weight: 700;\n  }\n"])));var x,b,f,A=t(9494),y=t(3413),j=t(2680),w=t(2483),k=t(4812),P=t(5865),O=t(583),S=t(5730),C=t(3179),M=t(1206);const T=e=>{var n;let{artists:t}=e;const r=(0,C.A)();return(0,d.jsxs)(N,{onMouseOver:r.on,onMouseLeave:r.off,children:[(0,d.jsxs)(F,{children:[(0,d.jsx)("img",{src:(null===(n=t.images[0])||void 0===n?void 0:n.url)||M.A,alt:t.name,className:"Thumbnail"}),(0,d.jsx)(S.A,{isfocuse:r.isfocuse})]}),(0,d.jsx)(q,{children:t.name}),(0,d.jsx)(A.A,{variant:"subtitle1",children:"Artist"})]})},N=(0,i.Ay)("div")(x||(x=(0,r.A)(["\n  flex: 1;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),q=(0,i.Ay)(A.A)(b||(b=(0,r.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),F=(0,i.Ay)("div")(f||(f=(0,r.A)(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 1/1;\n  margin-bottom: 1rem;\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n"])));var L,_,I,E,D,R,B=t(5504),z=t(5699),U=t(431),K=t(5563);const H=e=>{let{img:n,name:t="알수없음",albumName:r="알수없음"}=e;const i=(0,C.A)();return(0,d.jsxs)(V,{onMouseOver:i.on,onMouseLeave:i.off,children:[(0,d.jsx)(W,{width:8,children:(0,d.jsx)("img",{src:n,alt:t,className:"Thumbnail"})}),(0,d.jsx)(A.A,{variant:"h1",fontSize:30,paddingBottom:1,paddingTop:1,children:t}),(0,d.jsxs)(A.A,{children:[" 앨범 • ",r]}),(0,d.jsx)(S.A,{isfocuse:i.isfocuse})]})},Y=e=>{let{idx:n,img:t,name:r="알수없음",artistName:i="알수없음",duration_ms:s=0}=e;const a=(0,C.A)();return(0,d.jsxs)(J,{onMouseOver:a.on,onMouseLeave:a.off,children:[(0,d.jsxs)(o.A,{display:"flex",alignItems:"center",children:[n&&(0,d.jsx)(A.A,{variant:"subtitle1",marginRight:2,children:n}),(0,d.jsx)(W,{children:(0,d.jsx)("img",{src:t,alt:r,className:"Thumbnail"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)(Q,{children:r}),(0,d.jsx)(A.A,{variant:"subtitle1",children:i})]})]}),(0,d.jsxs)(X,{display:"flex",alignItems:"center",className:a.isfocuse,children:[(0,d.jsx)(A.A,{marginRight:1,children:(0,K.vq)(s)}),(0,d.jsx)(U.A,{children:"+"})]})]})},$=e=>{var n;let{tracks:t,pagenum:r,isCurrentMenu:i}=e;return i?(0,d.jsx)(o.A,{children:t.map(((e,n)=>{var t;return(0,d.jsx)(Y,{idx:(0,K.H5)(20,r,n),img:(null===(t=e.album.images)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)||M.A,name:e.name,artistName:e.artists[0].name,duration_ms:e.duration_ms},n)}))}):(0,d.jsxs)(G,{children:[(0,d.jsxs)("section",{children:[(0,d.jsx)(A.A,{variant:"h1",padding:2,paddingTop:6,children:"상위 결과"}),(0,d.jsx)(H,{img:(null===(n=t[0].album.images)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.url)||M.A,name:t[0].name,albumName:t[0].album.name})]}),(0,d.jsxs)("section",{children:[(0,d.jsx)(A.A,{variant:"h1",padding:2,paddingTop:6,children:"곡"}),t.map(((e,n)=>{var t;return n>3?null:(0,d.jsx)(Y,{img:(null===(t=e.album.images)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)||M.A,name:e.name,artistName:e.artists[0].name,duration_ms:e.duration_ms},n)}))]})]})},G=(0,i.Ay)("div")(L||(L=(0,r.A)(["\n  display: flex;\n\n  "," {\n    flex-direction: column;\n  }\n\n  section {\n    flex: 1;\n  }\n"])),(e=>{let{theme:n}=e;return n.breakpoints.down("md")})),J=(0,i.Ay)("div")(_||(_=(0,r.A)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.5rem;\n  border-radius: 8px;\n  overflow: hidden;\n  :hover {\n    background-color: #272727;\n  }\n"]))),Q=(0,i.Ay)(A.A)(I||(I=(0,r.A)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]))),V=(0,i.Ay)("div")(E||(E=(0,r.A)(["\n  position: relative;\n  flex: 1;\n  margin-right: 1rem;\n  height: 75%;\n  padding: 1rem;\n  border-radius: 8px;\n  :hover {\n    background-color: #272727;\n  }\n"]))),W=(0,i.Ay)("div")(D||(D=(0,r.A)(["\n  width: ",";\n  aspect-ratio: 1/1;\n  margin-right: 1rem;\n  border-radius: 4px;\n  overflow: hidden;\n\n  img.Thumbnail {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"])),(e=>{let{width:n}=e;return"".concat(n||3,"rem")})),X=(0,i.Ay)(o.A)(R||(R=(0,r.A)(["\n  position: absolute;\n  right: -3rem;\n  top: 50%;\n  transform: translateY(-50%);\n  transition: all 0.4s ease;\n  pointer-events: none;\n\n  &.show {\n    right: 1rem;\n    pointer-events: auto;\n  }\n"])));var Z;const ee=()=>{var e,n,t;const{keyword:r,type:i,limit:o,menuName:s}=h(),{data:a,error:l,isLoading:c,hasNextPage:u,fetchNextPage:m,isFetchingNextPage:p}=(0,j.A)({q:r,type:i,limit:o});if((0,y.A)({page:"search-result",isLoading:p,isFinished:!u,onIntersect:m}),c)return(0,d.jsx)(ne,{children:(0,d.jsx)(k.k,{width:40,height:40})});if(l)return(0,d.jsx)(w.A,{errMessage:l.message});const v=null==a?void 0:a.pages[0],g=v&&(null===(e=v.tracks)||void 0===e?void 0:e.total)||0,x=v&&(null===(n=v.albums)||void 0===n?void 0:n.total)||0,b=v&&(null===(t=v.artists)||void 0===t?void 0:t.total)||0;return!v||0===g&&0===x&&0===b?(0,d.jsx)(O.A,{keyword:r}):(0,d.jsxs)(d.Fragment,{children:[g>0&&"곡"===s&&(0,d.jsx)(A.A,{variant:"h1",padding:2,paddingTop:6,children:"곡"}),g>0&&a.pages.map(((e,n)=>{var t,r;return null!=e&&null!==(t=e.tracks)&&void 0!==t&&t.items?(0,d.jsx)($,{pagenum:n,tracks:null==e||null===(r=e.tracks)||void 0===r?void 0:r.items,isCurrentMenu:"곡"===s},n):null})),x>0&&(0,d.jsx)(A.A,{variant:"h1",padding:2,paddingTop:6,children:"앨범"}),(0,d.jsx)(B.l,{children:a.pages.map((e=>{var n;return null==e||null===(n=e.albums)||void 0===n?void 0:n.items.map(((e,n)=>(0,d.jsx)(z.A,{albums:e},n)))}))}),b>0&&(0,d.jsx)(A.A,{variant:"h1",padding:2,paddingTop:6,children:"아티스트"}),(0,d.jsx)(B.l,{children:a.pages.map((e=>{var n;return null==e||null===(n=e.artists)||void 0===n?void 0:n.items.map(((e,n)=>(0,d.jsx)(T,{artists:e},n)))}))}),1===i.length&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(P.A,{isLoading:p,isFinished:!u}),!p&&(0,d.jsx)(P.n,{id:"observer-search-result"})]})]})},ne=(0,i.Ay)("div")(Z||(Z=(0,r.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"])));var te,re;const ie=()=>(0,d.jsx)(oe,{children:(0,d.jsxs)(m,{children:[(0,d.jsx)(v,{}),(0,d.jsx)(se,{children:(0,d.jsx)(ee,{})})]})}),oe=(0,i.Ay)("div")(te||(te=(0,r.A)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  max-height: 100%;\n  padding: 1rem;\n"]))),se=(0,i.Ay)(o.A)(re||(re=(0,r.A)(["\n  flex-grow: 1;\n  padding-bottom: 10rem;\n  overflow-y: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])))}}]);
//# sourceMappingURL=975.js.map?ver=34283843ab67e080fced